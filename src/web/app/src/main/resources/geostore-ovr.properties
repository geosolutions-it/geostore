#
# Uncomment the following to auto create unrecognized users. 
#
# NOTE: You need to uncomment the interceptor on /src/modules/resp/impl/src/main/resources/applicationContext.xml:
#         
#	<jaxrs:inInterceptors>
#      <!-- Auto create users interceptor (uncomment to allow users auto-creation for /users requests) -->
#      <ref bean="autoCreateUsersInterceptor"/>
# 
#autoCreateUsersInterceptor.autoCreateUsers=true
#
# Role to assign to automatically created users
#
#autoCreateUsersInterceptor.newUsersRole.role=USER
#
# Strategy to assign password to automatically created users
#
#autoCreateUsersInterceptor.newUsersPassword=NONE|USERNAME|FROMHEADER
#autoCreateUsersInterceptor.newUsersPasswordHeader=newUserPassword

# For old geostore's db instance (before v1.2) this must be used (set to true) in order to
# regenerate digest pw.
#geostoreInitializer.allowPasswordRecoding=true

# Configure session duration.
#restSessionService.sessionTimeout=3600


####################
# OpenId Properties
####################

# ----------
# OpenID Connect (OIDC) — works with Keycloak, Azure AD, Google, Okta, and any OIDC provider
# Works with Keycloak, Azure AD, Google, Okta, and any OIDC-compliant provider
# ----------
# oidcOAuth2Config.enabled=false
# oidcOAuth2Config.clientId=
# oidcOAuth2Config.clientSecret=
# oidcOAuth2Config.discoveryUrl=https://<idp-host>/.well-known/openid-configuration
# oidcOAuth2Config.autoCreateUser=true
# oidcOAuth2Config.redirectUri=
# oidcOAuth2Config.internalRedirectUri=../../mapstore/
# oidcOAuth2Config.scopes=openid,email,profile
# oidcOAuth2Config.authenticatedDefaultRole=USER
# oidcOAuth2Config.principalKey=email
# oidcOAuth2Config.rolesClaim=roles
# oidcOAuth2Config.groupsClaim=groups
# oidcOAuth2Config.roleMappings=admin:ADMIN,user:USER
# oidcOAuth2Config.groupMappings=
# oidcOAuth2Config.dropUnmapped=false
# oidcOAuth2Config.usePKCE=false
#
# Access type for authorization (set to "offline" for refresh token support, e.g. Google)
# oidcOAuth2Config.accessType=offline
#
# Bearer token validation strategy: "jwt" (default), "introspection", or "auto"
#   jwt          - decode and verify JWT signature via JWKS (default)
#   introspection - call the token introspection endpoint (RFC 7662) — required for opaque tokens
#   auto         - try JWT first, fallback to introspection on failure
# oidcOAuth2Config.bearerTokenStrategy=jwt
#
# Token introspection endpoint (auto-discovered from .well-known if discoveryUrl is set)
# oidcOAuth2Config.introspectionEndpoint=
#
# Maximum token age in seconds (0 = disabled). Rejects bearer JWTs older than this.
# oidcOAuth2Config.maxTokenAgeSecs=0
#
# Post-logout redirect URI for OIDC RP-Initiated Logout
# oidcOAuth2Config.postLogoutRedirectUri=

# ----------
# Multiple Simultaneous OIDC Providers
# ----------
# To run multiple OIDC providers simultaneously (e.g. Keycloak + Google),
# set oidc.providers to a comma-separated list and configure each provider
# using the naming convention {provider}OAuth2Config.{property}
#
# oidc.providers=oidc,google
#
# googleOAuth2Config.enabled=true
# googleOAuth2Config.clientId=
# googleOAuth2Config.clientSecret=
# googleOAuth2Config.discoveryUrl=https://accounts.google.com/.well-known/openid-configuration
# googleOAuth2Config.autoCreateUser=true
# googleOAuth2Config.redirectUri=
# googleOAuth2Config.internalRedirectUri=../../mapstore/
# googleOAuth2Config.scopes=openid,email,profile
# googleOAuth2Config.principalKey=email
# googleOAuth2Config.accessType=offline

# ----------
# LDAP
# ----------
## Disable case sensitivity for LDAP usernames to ensure a single identity per user
# geostoreLdapProvider.ignoreUsernameCase=true